<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Release History &mdash; bluesky-queueserver 0.post1+gd9471b9 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Introduction" href="introduction_for_users.html" />
    <link rel="prev" title="Tutorial (Demo)" href="tutorial.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> bluesky-queueserver
          </a>
              <div class="version">
                0.post1+gd9471b9
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial (Demo)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release History</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#v0-0-9-2022-01-04">v0.0.9 (2022-01-04)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixed">Fixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#added">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changed">Changed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-0-8-2021-10-15">v0.0.8 (2021-10-15)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v0-0-7-2021-10-06">v0.0.7 (2021-10-06)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Fixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Added</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-0-6-2021-09-16">v0.0.6 (2021-09-16)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Changed</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction_for_users.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="features_and_config.html">Features and Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Submitting and Managing Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="startup_code.html">Organizing Bluesky Startup Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipython.html">Using IPython Startup Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="item_validation.html">Validation of Queue Items</a></li>
<li class="toctree-l1"><a class="reference internal" href="plan_annotation.html">Annotating Bluesky Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli_tools.html">Command-Line Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application Developer's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="interacting_with_qs.html">Interacting with Queue Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="re_manager_api.html">Run Engine Manager API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">bluesky-queueserver</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Release History</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/release_history.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="release-history">
<h1>Release History<a class="headerlink" href="#release-history" title="Permalink to this headline">¶</a></h1>
<section id="v0-0-9-2022-01-04">
<h2>v0.0.9 (2022-01-04)<a class="headerlink" href="#v0-0-9-2022-01-04" title="Permalink to this headline">¶</a></h2>
<section id="fixed">
<h3>Fixed<a class="headerlink" href="#fixed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Numerous fixes related to reliability of Queue Server operation.</p></li>
<li><p>Implemented changes to make Queue Server compatible with <code class="docutils literal notranslate"><span class="pre">aioredis</span></code> v2.</p></li>
</ul>
</section>
<section id="added">
<h3>Added<a class="headerlink" href="#added" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The new <code class="docutils literal notranslate"><span class="pre">--update-existing-plans-devices</span></code> CLI parameter of <code class="docutils literal notranslate"><span class="pre">start-re-manager</span></code> was added that
controls when the file that stores existing plans and devices is updated.</p></li>
<li><p>A new parameter of <code class="docutils literal notranslate"><span class="pre">permissions_reload</span></code> 0MQ API: <code class="docutils literal notranslate"><span class="pre">reload_plans_devices</span></code> (boolean, the default
value is <code class="docutils literal notranslate"><span class="pre">False</span></code>). If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, the parameter forces RE Manager to load the list of
existing plans and devices from the disk file. The API may be called with <code class="docutils literal notranslate"><span class="pre">reload_plans_devices=True</span></code>
using <code class="docutils literal notranslate"><span class="pre">qserver</span></code> CLI tool as <code class="docutils literal notranslate"><span class="pre">qserver</span> <span class="pre">permissions</span> <span class="pre">reload</span> <span class="pre">lists</span></code>.</p></li>
<li><p>A new parameter of <code class="docutils literal notranslate"><span class="pre">permissions_reload</span></code> 0MQ API: <code class="docutils literal notranslate"><span class="pre">reload_permissions</span></code> (boolean, the default
value is <code class="docutils literal notranslate"><span class="pre">True</span></code>). If <code class="docutils literal notranslate"><span class="pre">True</span></code>, permissions are reloaded from the disk file (if allowed), otherwise
the currently used permissions are used in computations.</p></li>
<li><p>Extended the number of states of worker environment. Currently used states include <code class="docutils literal notranslate"><span class="pre">initializing</span></code>,
<code class="docutils literal notranslate"><span class="pre">idle</span></code>, <code class="docutils literal notranslate"><span class="pre">executing_plan</span></code>, <code class="docutils literal notranslate"><span class="pre">executing_task</span></code>, <code class="docutils literal notranslate"><span class="pre">closing</span></code>, <code class="docutils literal notranslate"><span class="pre">closed</span></code>.</p></li>
<li><p>A new status fields (<code class="docutils literal notranslate"><span class="pre">status</span></code> 0MQ API): <code class="docutils literal notranslate"><span class="pre">worker_environment_state</span></code>, <code class="docutils literal notranslate"><span class="pre">worker_background_tasks</span></code>,
<code class="docutils literal notranslate"><span class="pre">task_results_uid</span></code>, <code class="docutils literal notranslate"><span class="pre">plans_existing_uid</span></code>, <code class="docutils literal notranslate"><span class="pre">devices_existing_uid</span></code>.</p></li>
<li><p>Extended the number of sections in specification of user group permissions (e.g. in
<code class="docutils literal notranslate"><span class="pre">user_group_permissions.yaml</span></code> file). The new sections (<code class="docutils literal notranslate"><span class="pre">allowed_functions</span></code> and <code class="docutils literal notranslate"><span class="pre">forbidden_functions</span></code>)
define conditions for names of functions that are accessible using <code class="docutils literal notranslate"><span class="pre">function_execute</span></code> API by users
from each user groups.</p></li>
<li><p>New 0MQ API: <code class="docutils literal notranslate"><span class="pre">script_upload</span></code>, <code class="docutils literal notranslate"><span class="pre">function_execute</span></code>, <code class="docutils literal notranslate"><span class="pre">task_result</span></code>, <code class="docutils literal notranslate"><span class="pre">plans_existing</span></code>,
<code class="docutils literal notranslate"><span class="pre">devices_existing</span></code>. CLI implementation: <code class="docutils literal notranslate"><span class="pre">qserver</span> <span class="pre">script</span> <span class="pre">upload</span></code> (<code class="docutils literal notranslate"><span class="pre">script_upload</span></code> API),
<code class="docutils literal notranslate"><span class="pre">qserver</span> <span class="pre">function</span> <span class="pre">execute</span></code> (<code class="docutils literal notranslate"><span class="pre">function_execute</span></code> API), <code class="docutils literal notranslate"><span class="pre">qserver</span> <span class="pre">task</span> <span class="pre">result</span></code> (<code class="docutils literal notranslate"><span class="pre">task_result</span></code> API),
<code class="docutils literal notranslate"><span class="pre">qserver</span> <span class="pre">existing</span> <span class="pre">devices</span></code> (<code class="docutils literal notranslate"><span class="pre">devices_existing</span></code> API), <code class="docutils literal notranslate"><span class="pre">qserver</span> <span class="pre">existing</span> <span class="pre">plans</span></code> (<code class="docutils literal notranslate"><span class="pre">plans_existing</span></code> API).</p></li>
<li><p>A new 0MQ API: <code class="docutils literal notranslate"><span class="pre">permissions_set</span></code> and <code class="docutils literal notranslate"><span class="pre">permissions_get</span></code> that allow uploading and downloading
user group permissions. CLI support for the new API: <code class="docutils literal notranslate"><span class="pre">qserver</span> <span class="pre">permissions</span> <span class="pre">set</span> <span class="pre">&lt;fln.yaml&gt;</span></code> and
<code class="docutils literal notranslate"><span class="pre">qserver</span> <span class="pre">permissions</span> <span class="pre">get</span></code>.</p></li>
<li><p>A new parameter of <code class="docutils literal notranslate"><span class="pre">start-re-manager</span></code> CLI tool: <code class="docutils literal notranslate"><span class="pre">--user-group-permissions-reload</span></code>. The parameter accepts
values <code class="docutils literal notranslate"><span class="pre">NEVER</span></code>, <code class="docutils literal notranslate"><span class="pre">ON_REQUEST</span></code> and <code class="docutils literal notranslate"><span class="pre">ON_STARTUP</span></code>.</p></li>
<li><p>A new section in documentation on management of user group permissions.</p></li>
</ul>
</section>
<section id="changed">
<h3>Changed<a class="headerlink" href="#changed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Refactoring of the code for management of user group permissions and lists of existing and
allowed plans and devices to make it more consistent. The identical lists of user permissions
and existing plans and devices are now maintained by worker and manager processes.</p></li>
<li><p>The lists of existing plans and devices used by RE Manager (both manager and worker processes)
is automatically updated each time plans and devices in are changed in RE namespace (currently
RE namespace is changed only when a new worker environment is opened).</p></li>
<li><p>All sections for user group permissions are now optional. The <code class="docutils literal notranslate"><span class="pre">forbidden_plans</span></code>,
<code class="docutils literal notranslate"><span class="pre">forbidden_devices</span></code> and <code class="docutils literal notranslate"><span class="pre">forbidden_functions</span></code> sections could be skipped if there are
no forbidden items that need to be excluded. Skipping <code class="docutils literal notranslate"><span class="pre">allowed_...</span></code> section disables all
items (plans, devices or functions) for the group, e.g. if <code class="docutils literal notranslate"><span class="pre">allowed_plans</span></code> is skipped,
users from this group will not be able to submit or run any plans. Since rules for
the <code class="docutils literal notranslate"><span class="pre">root</span></code> group are applied to the lists accessible by users from all other groups,
skipping <code class="docutils literal notranslate"><span class="pre">allowed_plans</span></code> for <code class="docutils literal notranslate"><span class="pre">root</span></code> disables all plans for all other groups.</p></li>
</ul>
</section>
</section>
<section id="v0-0-8-2021-10-15">
<h2>v0.0.8 (2021-10-15)<a class="headerlink" href="#v0-0-8-2021-10-15" title="Permalink to this headline">¶</a></h2>
<p>Maintenance release.</p>
</section>
<section id="v0-0-7-2021-10-06">
<h2>v0.0.7 (2021-10-06)<a class="headerlink" href="#v0-0-7-2021-10-06" title="Permalink to this headline">¶</a></h2>
<section id="id1">
<h3>Fixed<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Behavior of <code class="docutils literal notranslate"><span class="pre">re_pause</span></code> 0MQ API: if <code class="docutils literal notranslate"><span class="pre">re_pause</span></code> is called past the last checkpoint of the plan,
the plan is considered successfully completed and execution of the queue is stopped.
The stopped queue can be started again using <code class="docutils literal notranslate"><span class="pre">queue_start</span></code> API request.</p></li>
<li><p>JSON schemas and code using validation of JSON schemas was modified for compatibility with
<code class="docutils literal notranslate"><span class="pre">jsonschema</span></code> v4.0.1. Queue server still works with older versions of <code class="docutils literal notranslate"><span class="pre">jsonschema</span></code>.</p></li>
</ul>
</section>
<section id="id2">
<h3>Added<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A new boolean flag (<code class="docutils literal notranslate"><span class="pre">pause_pending</span></code>) added to dictionary returned by <code class="docutils literal notranslate"><span class="pre">status</span></code> API.
The flag is <code class="docutils literal notranslate"><span class="pre">True</span></code> when request to pause a plan (<code class="docutils literal notranslate"><span class="pre">re_pause</span></code> API) was accepted by the Queue Server,
but not processed by the Run Engine. The flag is set in case of immediate and deferred pause request.
The flag is cleared automatically (set to <code class="docutils literal notranslate"><span class="pre">False</span></code>) when the request is processed and the plan is paused
or the queue is stopped (if deferred pause is requested after the last checkpoint of the plan).</p></li>
</ul>
</section>
</section>
<section id="v0-0-6-2021-09-16">
<h2>v0.0.6 (2021-09-16)<a class="headerlink" href="#v0-0-6-2021-09-16" title="Permalink to this headline">¶</a></h2>
<section id="id3">
<h3>Added<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>New API: <code class="docutils literal notranslate"><span class="pre">ReceiveConsoleOutputAsync</span></code> (async version of <code class="docutils literal notranslate"><span class="pre">ReceiveConsoleOutput</span></code>)
for receiving console output from RE Manager in <cite>asyncio</cite>-based applications (e.g. HTTP Server).</p></li>
</ul>
</section>
<section id="id4">
<h3>Changed<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Renamed parameters of <cite>start-re-manager</cite>: <code class="docutils literal notranslate"><span class="pre">--zmq-publish</span></code> is renamed to <code class="docutils literal notranslate"><span class="pre">--zmq-publish-console</span></code>,
<code class="docutils literal notranslate"><span class="pre">--zmq-publish-addr</span></code> is renamed to <code class="docutils literal notranslate"><span class="pre">--zmq-publish-console-addr</span></code>.</p></li>
<li><p>Parameters <code class="docutils literal notranslate"><span class="pre">default</span></code>, <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code> and <code class="docutils literal notranslate"><span class="pre">step</span></code> of <code class="docutils literal notranslate"><span class="pre">parameter_annotation_decorator</span></code> now must be
python expressions of supported types (<code class="docutils literal notranslate"><span class="pre">default</span></code>) or <cite>int</cite> or <cite>float</cite> numbers (<code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>
and <code class="docutils literal notranslate"><span class="pre">step</span></code>). In previous versions the parameter values had to be converted to strings in user code.</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tutorial.html" class="btn btn-neutral float-left" title="Tutorial (Demo)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="introduction_for_users.html" class="btn btn-neutral float-right" title="Introduction" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2021, Brookhaven National Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>