<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>bluesky_queueserver_api.http.aio.REManagerAPI &mdash; Bluesky Queue Server API 0.post1+gb8585af documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release History" href="../release-history.html" />
    <link rel="prev" title="bluesky_queueserver_api.http.REManagerAPI" href="bluesky_queueserver_api.http.REManagerAPI.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Bluesky Queue Server API
          </a>
              <div class="version">
                0.post1+gb8585af
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api-reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-reference.html#generation-of-queue-items">Generation of Queue Items</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-reference.html#miscellaneous-api">Miscellaneous API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-reference.html#synchronous-communication-with-0mq-server">Synchronous Communication with 0MQ Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-reference.html#asynchronous-communication-with-0mq-server">Asynchronous Communication with 0MQ Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-reference.html#synchronous-communication-with-http-server">Synchronous Communication with HTTP Server</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api-reference.html#asynchronous-communication-with-http-server">ASynchronous Communication with HTTP Server</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">bluesky_queueserver_api.http.aio.REManagerAPI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release-history.html">Release History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Bluesky Queue Server API</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../api-reference.html">API Reference</a> &raquo;</li>
      <li>bluesky_queueserver_api.http.aio.REManagerAPI</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/generated/bluesky_queueserver_api.http.aio.REManagerAPI.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bluesky-queueserver-api-http-aio-remanagerapi">
<h1>bluesky_queueserver_api.http.aio.REManagerAPI<a class="headerlink" href="#bluesky-queueserver-api-http-aio-remanagerapi" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="bluesky_queueserver_api.http.aio.REManagerAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bluesky_queueserver_api.http.aio.</span></span><span class="sig-name descname"><span class="pre">REManagerAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_server_uri</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_fail_exceptions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_expiration_period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_polling_period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bluesky_queueserver_api/http/aio.html#REManagerAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bluesky_queueserver_api.http.aio.REManagerAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>API for communication with RE Manager using HTTP (RESTful API) protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>http_server_uri: str or None</strong></dt><dd><p>URI of Bluesky HTTP Server. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then the default URI
<cite>“http://localhost:60610”`</cite> is used.</p>
</dd>
<dt><strong>timeout: float</strong></dt><dd><p>Request timeout. Default value is 5.0 seconds.</p>
</dd>
<dt><strong>request_fail_exceptions: boolean</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> (default) then API functions that communicate with
RE Manager are raising the <code class="docutils literal notranslate"><span class="pre">RequestFailError</span></code> exception if
the request is rejected (the response contains <code class="docutils literal notranslate"><span class="pre">&quot;success&quot;:</span> <span class="pre">False</span></code>,
e.g. if a submitted plan is rejected). If <code class="docutils literal notranslate"><span class="pre">False</span></code>, then API
functions are always returning the response and user code is
responsible for checking and processing the <code class="docutils literal notranslate"><span class="pre">success</span></code> flag.</p>
</dd>
<dt><strong>status_expiration_period: float</strong></dt><dd><p>Expiration period for cached RE Manager status,
default value: 0.5 seconds</p>
</dd>
<dt><strong>status_polling_period: float</strong></dt><dd><p>Polling period for RE Manager status used by ‘wait’ operations,
default value: 1 second</p>
</dd>
<dt><strong>loop: asyncio.Loop</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">asyncio</span></code> event loop (use only with Async version of the API).
The parameter is included only for compatibility with 0MQ version
of the API and is ignored in HTTP version.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Synchronous API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bluesky_queueserver_api.http</span> <span class="kn">import</span> <span class="n">REManagerAPI</span>
<span class="n">RM</span> <span class="o">=</span> <span class="n">REManagerAPI</span><span class="p">()</span>
<span class="c1"># &lt; some useful code &gt;</span>
<span class="n">RE</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Asynchronous API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bluesky_queueserver_api.http.aio</span> <span class="kn">import</span> <span class="n">REManagerAPI</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">testing</span><span class="p">():</span>
    <span class="n">RM</span> <span class="o">=</span> <span class="n">REManagerAPI</span><span class="p">()</span>
    <span class="c1"># &lt; some useful code &gt;</span>
    <span class="k">await</span> <span class="n">RE</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">testing</span><span class="p">())</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bluesky_queueserver_api.http.aio.REManagerAPI.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_server_uri</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_fail_exceptions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_expiration_period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_polling_period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bluesky_queueserver_api/http/aio.html#REManagerAPI.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bluesky_queueserver_api.http.aio.REManagerAPI.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#bluesky_queueserver_api.http.aio.REManagerAPI.__init__" title="bluesky_queueserver_api.http.aio.REManagerAPI.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(*[, http_server_uri, timeout, ...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">close</span></code>()</p></td>
<td><p>Close RE Manager client.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">devices_allowed</span></code>(*[, reload])</p></td>
<td><p>Returns the list (dictionary) of allowed devices.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">devices_existing</span></code>(*[, reload])</p></td>
<td><p>Returns the list (dictionary) of existing devices.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">environment_close</span></code>()</p></td>
<td><p>Close RE Worker environment.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">environment_destroy</span></code>()</p></td>
<td><p>Destroy RE Worker environment.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">environment_open</span></code>()</p></td>
<td><p>Open RE Worker environment.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">function_execute</span></code>(item, *[, run_in_background])</p></td>
<td><p>Start execution of a function in RE Worker namespace.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">history_clear</span></code>()</p></td>
<td><p>Remove all items from the history.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">history_get</span></code>(*[, reload])</p></td>
<td><p>Returns the list of plans in the history.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">item_add</span></code>(item, *[, pos, before_uid, after_uid])</p></td>
<td><p>Add item to the queue.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">item_add_batch</span></code>(items, *[, pos, before_uid, ...])</p></td>
<td><p>Add a batch of items to the queue.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">item_execute</span></code>(item)</p></td>
<td><p>Immediately start execution of the submitted item.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">item_get</span></code>(*[, pos, uid])</p></td>
<td><p>Load an existing queue item.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">item_move</span></code>(*[, pos, uid, pos_dest, ...])</p></td>
<td><p>Move item to a different position in the queue.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">item_move_batch</span></code>(*[, uids, pos_dest, ...])</p></td>
<td><p>Move a batch of item to a different position in the queue.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">item_remove</span></code>(*[, pos, uid])</p></td>
<td><p>Remove item from the queue.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">item_remove_batch</span></code>(*, uids[, ignore_missing])</p></td>
<td><p>Remove a batch of items from the queue.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">item_update</span></code>(item, *[, replace])</p></td>
<td><p>Update the existing item in the queue.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">permissions_get</span></code>()</p></td>
<td><p>Download the dictionary of user group permissions currently used by RE Manager.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">permissions_reload</span></code>(*[, ...])</p></td>
<td><p>Reload user group permissions from the default location or the location set using command line parameters and generate lists of allowed plans and devices based on the lists of existing plans and devices.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">permissions_set</span></code>(user_group_permissions)</p></td>
<td><p>Uploads the dictionary of user group permissions.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ping</span></code>(*[, reload])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plans_allowed</span></code>(*[, reload])</p></td>
<td><p>Returns the list (dictionary) of allowed plans.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">plans_existing</span></code>(*[, reload])</p></td>
<td><p>Returns the list (dictionary) of existing plans.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">queue_clear</span></code>()</p></td>
<td><p>Remove all items from the plan queue.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">queue_get</span></code>(*[, reload])</p></td>
<td><p>Returns the list of items (plans and instructions) in the plan queue and currently running plan.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">queue_mode_set</span></code>(**kwargs)</p></td>
<td><p>Sets parameters that define the mode of plan queue execution.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">queue_start</span></code>()</p></td>
<td><p>Start execution of the queue.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">queue_stop</span></code>()</p></td>
<td><p>Request RE Manager to stop execution of the queue after completion of the currently running plan.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">queue_stop_cancel</span></code>()</p></td>
<td><p>Cancel the pending request to stop execution of the queue after the currently running plan.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">re_abort</span></code>()</p></td>
<td><p>Request Run Engine to abort paused plan.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">re_halt</span></code>()</p></td>
<td><p>Request Run Engine to halt paused plan.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">re_pause</span></code>([option])</p></td>
<td><p>Request Run Engine to pause currently running plan.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">re_resume</span></code>()</p></td>
<td><p>Request Run Engine to resume paused plan.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">re_runs</span></code>([option, reload])</p></td>
<td><p>Request the list of active runs generated by the currently executed plans.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">re_stop</span></code>()</p></td>
<td><p>Request Run Engine to stop paused plan.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">script_upload</span></code>(script, *[, update_re, ...])</p></td>
<td><p>Upload and execute script in RE Worker namespace.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_request</span></code>(*, method[, params])</p></td>
<td><p>Send request to RE Manager and receive the response.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">status</span></code>(*[, reload])</p></td>
<td><p>Current implementation of the API loads status of RE Manager, but this may change in future releases.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">task_result</span></code>(task_uid)</p></td>
<td><p>Get the status and results of task execution.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">task_status</span></code>(task_uid)</p></td>
<td><p>Returns the status of one or more tasks executed by the worker process.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_idle</span></code>(*[, timeout, monitor])</p></td>
<td><p>Wait for RE Manager to return to <code class="docutils literal notranslate"><span class="pre">idle</span></code> state.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wait_for_idle_or_paused</span></code>(*[, timeout, monitor])</p></td>
<td><p>Wait for RE Manager to switch to <code class="docutils literal notranslate"><span class="pre">idle</span></code> or <code class="docutils literal notranslate"><span class="pre">paused</span></code> state.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">request_fail_exceptions_enabled</span></code></p></td>
<td><p>Enable or disable <code class="docutils literal notranslate"><span class="pre">RequestFailedError</span></code> exceptions (<em>boolean</em>).</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bluesky_queueserver_api.http.REManagerAPI.html" class="btn btn-neutral float-left" title="bluesky_queueserver_api.http.REManagerAPI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../release-history.html" class="btn btn-neutral float-right" title="Release History" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Brookhaven National Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>