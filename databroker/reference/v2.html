
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>New (v2) API &mdash; databroker 1.2.5.post15+g5fbc5eb1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Original (v1 / v0) API" href="v1.html" />
    <link rel="prev" title="What is Databroker’s relationship to Intake?" href="../explanations/relationship-to-intake.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> databroker
          </a>
              <div class="version">
                1.2.5.post15+g5fbc5eb1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/install.html">Installation Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/search-and-lookup.html">Find Runs in a Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/get-data.html">Get Data from a Run</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/get-metadata.html">Navigate Metadata in a Run</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/export.html">Export Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-to Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../how-to/download-data-samples.html">How to download some Catalogs with data samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/file-backed-catalog.html">How to create a new Catalog backed by files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/store-data-from-run-engine.html">How to store data from the Run Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/store-analysis-results.html">How to store analysis results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/mongo-backed-catalog.html">How to create a new Catalog backed by MongoDB</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Explanations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../explanations/v2-transition.html">What are the API versions v0, v1, v2?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanations/local-and-remote-use-cases.html">How can it be used locally and remotely?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanations/relationship-to-intake.html">What is Databroker’s relationship to Intake?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">New (v2) API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#core">Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="#backend-specific-catalogs">Backend-Specific Catalogs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="v1.html">Original (v1 / v0) API</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Bluesky Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io">Homepage</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/bluesky">GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Help</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://gitter.im/NSLS-II/DAMA">Gitter</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">databroker</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>New (v2) API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/v2.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="new-v2-api">
<h1>New (v2) API<a class="headerlink" href="#new-v2-api" title="Permalink to this headline">¶</a></h1>
<section id="core">
<h2>Core<a class="headerlink" href="#core" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="databroker.core.Document">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databroker.core.</span></span><span class="sig-name descname"><span class="pre">Document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#Document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.Document" title="Permalink to this definition">¶</a></dt>
<dd><p>Document is an immutable dict subclass.</p>
<p>It is immutable to help consumer code avoid accidentally corrupting data
that another part of the cosumer code was expected to use unchanged.</p>
<p>Subclasses of Document must define __dask_tokenize__. The tokenization
schemes typically uniquely identify the document based on only a subset of
its contents, and mutating the contents can thereby create situations where
two unequal objects have colliding tokens. Immutability helps guard against
this too.</p>
<p>Note that Documents are not <em>recursively</em> immutable. Just as it is possible
create a tuple (immutable) of lists (mutable) and mutate the lists, it is
possible to mutate the internal contents of a Document, but this should not
be done. It is safer to use the to_dict() method to create a mutable deep
copy.</p>
<p>This is implemented as a dict subclass in order to satisfy certain
consumers that expect an object that satisfies isinstance(obj, dict).
This implementation detail may change in the future.</p>
<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.Document.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None.</span>&#160; <span class="pre">Remove</span> <span class="pre">all</span> <span class="pre">items</span> <span class="pre">from</span> <span class="pre">D.</span></span></span><a class="headerlink" href="#databroker.core.Document.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.Document.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">v,</span> <span class="pre">remove</span> <span class="pre">specified</span> <span class="pre">key</span> <span class="pre">and</span> <span class="pre">return</span> <span class="pre">the</span> <span class="pre">corresponding</span> <span class="pre">value.</span></span></span><a class="headerlink" href="#databroker.core.Document.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>If key is not found, d is returned if given, otherwise KeyError is raised</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.Document.popitem">
<span class="sig-name descname"><span class="pre">popitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#databroker.core.Document.popitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove and return a (key, value) pair as a 2-tuple.</p>
<p>Pairs are returned in LIFO (last-in, first-out) order.
Raises KeyError if the dict is empty.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.Document.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#databroker.core.Document.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert key with a value of default if key is not in the dictionary.</p>
<p>Return the value for key if key is in the dictionary, else default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.Document.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#Document.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.Document.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mutable deep copy.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.Document.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">**F</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None.</span>&#160; <span class="pre">Update</span> <span class="pre">D</span> <span class="pre">from</span> <span class="pre">dict/iterable</span> <span class="pre">E</span> <span class="pre">and</span> <span class="pre">F.</span></span></span><a class="headerlink" href="#databroker.core.Document.update" title="Permalink to this definition">¶</a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="databroker.core.BlueskyRun">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databroker.core.</span></span><span class="sig-name descname"><span class="pre">BlueskyRun</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyRun"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyRun" title="Permalink to this definition">¶</a></dt>
<dd><p>Catalog representing one Run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>get_run_start: callable</strong></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_run_start()</span> <span class="pre">-&gt;</span> <span class="pre">RunStart</span></code></p>
</dd>
<dt><strong>get_run_stop</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_run_stop()</span> <span class="pre">-&gt;</span> <span class="pre">RunStop</span></code></p>
</dd>
<dt><strong>get_event_descriptors</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_descriptors()</span> <span class="pre">-&gt;</span> <span class="pre">List[EventDescriptors]</span></code></p>
</dd>
<dt><strong>get_event_pages</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_pages(descriptor_uid)</span> <span class="pre">-&gt;</span> <span class="pre">generator</span></code>
where <code class="docutils literal notranslate"><span class="pre">generator</span></code> yields Event documents</p>
</dd>
<dt><strong>get_event_count</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_count(descriptor_uid)</span> <span class="pre">-&gt;</span> <span class="pre">int</span></code></p>
</dd>
<dt><strong>get_resource</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_resource(resource_uid)</span> <span class="pre">-&gt;</span> <span class="pre">Resource</span></code></p>
</dd>
<dt><strong>get_resources: callable</strong></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_resources()</span> <span class="pre">-&gt;</span> <span class="pre">Resources</span></code></p>
</dd>
<dt><strong>lookup_resource_for_datum</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">lookup_resource_for_datum(datum_id)</span> <span class="pre">-&gt;</span> <span class="pre">resource_uid</span></code></p>
</dd>
<dt><strong>get_datum_pages</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_datum_pages(resource_uid)</span> <span class="pre">-&gt;</span> <span class="pre">generator</span></code>
where <code class="docutils literal notranslate"><span class="pre">generator</span></code> yields Datum documents</p>
</dd>
<dt><strong>get_filler</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_filler()</span> <span class="pre">-&gt;</span> <span class="pre">event_model.Filler</span></code></p>
</dd>
<dt><strong>transforms</strong><span class="classifier">Dict[str, Callable]</span></dt><dd><p>A dict that maps any subset of the keys {start, stop, resource, descriptor}
to a function that accepts a document of the corresponding type and
returns it, potentially modified. This feature is for patching up
erroneous metadata. It is intended for quick, temporary fixes that
may later be applied permanently to the data at rest
(e.g., via a database migration).</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Additional keyword arguments are passed through to the base class,
Catalog.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyRun.configure_new">
<span class="sig-name descname"><span class="pre">configure_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyRun.configure_new"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyRun.configure_new" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self or, if args are provided, some new instance of type(self).</p>
<p>This is here so that the user does not have to remember whether a given
variable is a BlueskyRun or an <em>Entry</em> with a Bluesky Run. In either
case, <code class="docutils literal notranslate"><span class="pre">obj()</span></code> will return a BlueskyRun.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyRun.describe">
<span class="sig-name descname"><span class="pre">describe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyRun.describe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyRun.describe" title="Permalink to this definition">¶</a></dt>
<dd><p>Description from the entry spec</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyRun.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#databroker.core.BlueskyRun.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self or, if args are provided, some new instance of type(self).</p>
<p>This is here so that the user does not have to remember whether a given
variable is a BlueskyRun or an <em>Entry</em> with a Bluesky Run. In either
case, <code class="docutils literal notranslate"><span class="pre">obj()</span></code> will return a BlueskyRun.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyRun.get_file_list">
<span class="sig-name descname"><span class="pre">get_file_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyRun.get_file_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyRun.get_file_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch filepaths of external files associated with this Run.</p>
<p>This method is not defined on RemoteBlueskyRun because the filepaths
may not be meaningful on a remote machine.</p>
<p>This method should be considered experimental. It may be changed or
removed in a future release.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="databroker.core.BlueskyRun.has_been_persisted">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_been_persisted</span></span><a class="headerlink" href="#databroker.core.BlueskyRun.has_been_persisted" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class does not interact with persistence</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="databroker.core.BlueskyRun.is_persisted">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_persisted</span></span><a class="headerlink" href="#databroker.core.BlueskyRun.is_persisted" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class does not interact with persistence</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyRun.persist">
<span class="sig-name descname"><span class="pre">persist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyRun.persist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyRun.persist" title="Permalink to this definition">¶</a></dt>
<dd><p>Save data from this source to local persistent storage</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ttl: numeric, optional</strong></dt><dd><p>Time to live in seconds. If provided, the original source will
be accessed and a new persisted version written transparently
when more than <code class="docutils literal notranslate"><span class="pre">ttl</span></code> seconds have passed since the old persisted
version was written.</p>
</dd>
<dt><strong>kargs: passed to the _persist method on the base container.</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyRun.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyRun.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyRun.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Load entire dataset into a container and return it</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyRun.to_dask">
<span class="sig-name descname"><span class="pre">to_dask</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyRun.to_dask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyRun.to_dask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dask container for this data source</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="databroker.core.RemoteBlueskyRun">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databroker.core.</span></span><span class="sig-name descname"><span class="pre">RemoteBlueskyRun</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#RemoteBlueskyRun"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.RemoteBlueskyRun" title="Permalink to this definition">¶</a></dt>
<dd><p>Catalog representing one Run.</p>
<p>This is a client-side proxy to a BlueskyRun stored on a remote server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>url: str</strong></dt><dd><p>Address of the server</p>
</dd>
<dt><strong>headers: dict</strong></dt><dd><p>HTTP headers to sue in calls</p>
</dd>
<dt><strong>name: str</strong></dt><dd><p>handle to reference this data</p>
</dd>
<dt><strong>parameters: dict</strong></dt><dd><p>To pass to the server when it instantiates the data source</p>
</dd>
<dt><strong>metadata: dict</strong></dt><dd><p>Additional info</p>
</dd>
<dt><strong>kwargs: ignored</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="databroker.core.RemoteBlueskyRun.has_been_persisted">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_been_persisted</span></span><a class="headerlink" href="#databroker.core.RemoteBlueskyRun.has_been_persisted" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class does not interact with persistence</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="databroker.core.RemoteBlueskyRun.is_persisted">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_persisted</span></span><a class="headerlink" href="#databroker.core.RemoteBlueskyRun.is_persisted" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class does not interact with persistence</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.RemoteBlueskyRun.persist">
<span class="sig-name descname"><span class="pre">persist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#RemoteBlueskyRun.persist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.RemoteBlueskyRun.persist" title="Permalink to this definition">¶</a></dt>
<dd><p>Save data from this source to local persistent storage</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ttl: numeric, optional</strong></dt><dd><p>Time to live in seconds. If provided, the original source will
be accessed and a new persisted version written transparently
when more than <code class="docutils literal notranslate"><span class="pre">ttl</span></code> seconds have passed since the old persisted
version was written.</p>
</dd>
<dt><strong>kargs: passed to the _persist method on the base container.</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.RemoteBlueskyRun.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#RemoteBlueskyRun.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.RemoteBlueskyRun.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Load entire dataset into a container and return it</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.RemoteBlueskyRun.to_dask">
<span class="sig-name descname"><span class="pre">to_dask</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#RemoteBlueskyRun.to_dask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.RemoteBlueskyRun.to_dask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dask container for this data source</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="databroker.core.BlueskyEventStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databroker.core.</span></span><span class="sig-name descname"><span class="pre">BlueskyEventStream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyEventStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyEventStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Catalog representing one Event Stream from one Run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>stream_name</strong><span class="classifier">string</span></dt><dd><p>Stream name, such as ‘primary’.</p>
</dd>
<dt><strong>get_run_stop</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_run_stop()</span> <span class="pre">-&gt;</span> <span class="pre">RunStop</span></code></p>
</dd>
<dt><strong>get_event_descriptors</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_descriptors()</span> <span class="pre">-&gt;</span> <span class="pre">List[EventDescriptors]</span></code></p>
</dd>
<dt><strong>get_event_pages</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_pages(descriptor_uid)</span> <span class="pre">-&gt;</span> <span class="pre">generator</span></code>
where <code class="docutils literal notranslate"><span class="pre">generator</span></code> yields event_page documents</p>
</dd>
<dt><strong>get_event_count</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_count(descriptor_uid)</span> <span class="pre">-&gt;</span> <span class="pre">int</span></code></p>
</dd>
<dt><strong>get_resource</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_resource(resource_uid)</span> <span class="pre">-&gt;</span> <span class="pre">Resource</span></code></p>
</dd>
<dt><strong>get_resources: callable</strong></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_resources()</span> <span class="pre">-&gt;</span> <span class="pre">Resources</span></code></p>
</dd>
<dt><strong>lookup_resource_for_datum</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">lookup_resource_for_datum(datum_id)</span> <span class="pre">-&gt;</span> <span class="pre">resource_uid</span></code></p>
</dd>
<dt><strong>get_datum_pages</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_datum_pages(resource_uid)</span> <span class="pre">-&gt;</span> <span class="pre">generator</span></code>
where <code class="docutils literal notranslate"><span class="pre">generator</span></code> yields datum_page documents</p>
</dd>
<dt><strong>fillers</strong><span class="classifier">dict of Fillers</span></dt><dd></dd>
<dt><strong>transforms</strong><span class="classifier">Dict[str, Callable]</span></dt><dd><p>A dict that maps any subset of the keys {start, stop, resource, descriptor}
to a function that accepts a document of the corresponding type and
returns it, potentially modified. This feature is for patching up
erroneous metadata. It is intended for quick, temporary fixes that
may later be applied permanently to the data at rest
(e.g., via a database migration).</p>
</dd>
<dt><strong>metadata</strong><span class="classifier">dict</span></dt><dd><p>passed through to base class</p>
</dd>
<dt><strong>include</strong><span class="classifier">list, optional</span></dt><dd><p>Fields (‘data keys’) to include. By default all are included. This
parameter is mutually exclusive with <code class="docutils literal notranslate"><span class="pre">exclude</span></code>.</p>
</dd>
<dt><strong>exclude</strong><span class="classifier">list, optional</span></dt><dd><p>Fields (‘data keys’) to exclude. By default none are excluded. This
parameter is mutually exclusive with <code class="docutils literal notranslate"><span class="pre">include</span></code>.</p>
</dd>
<dt><strong>sub_dict</strong><span class="classifier">{“data”, “timestamps”}, optional</span></dt><dd><p>Which sub-dict in the EventPage to use</p>
</dd>
<dt><strong>configuration_for</strong><span class="classifier">str</span></dt><dd><p>The name of an object (e.g. device) whose configuration we want to
read.</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Additional keyword arguments are passed through to the base class.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyEventStream.configure_new">
<span class="sig-name descname"><span class="pre">configure_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyEventStream.configure_new"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyEventStream.configure_new" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self or, if args are provided, some new instance of type(self).</p>
<p>This is here so that the user does not have to remember whether a given
variable is a BlueskyRun or an <em>Entry</em> with a Bluesky Run. In either
case, <code class="docutils literal notranslate"><span class="pre">obj()</span></code> will return a BlueskyRun.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="databroker.core.BlueskyEventStream.has_been_persisted">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_been_persisted</span></span><a class="headerlink" href="#databroker.core.BlueskyEventStream.has_been_persisted" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class does not interact with persistence</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="databroker.core.BlueskyEventStream.is_persisted">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_persisted</span></span><a class="headerlink" href="#databroker.core.BlueskyEventStream.is_persisted" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class does not interact with persistence</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyEventStream.persist">
<span class="sig-name descname"><span class="pre">persist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyEventStream.persist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyEventStream.persist" title="Permalink to this definition">¶</a></dt>
<dd><p>Save data from this source to local persistent storage</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ttl: numeric, optional</strong></dt><dd><p>Time to live in seconds. If provided, the original source will
be accessed and a new persisted version written transparently
when more than <code class="docutils literal notranslate"><span class="pre">ttl</span></code> seconds have passed since the old persisted
version was written.</p>
</dd>
<dt><strong>kargs: passed to the _persist method on the base container.</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyEventStream.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyEventStream.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyEventStream.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data from this Event Stream as an xarray.Dataset.</p>
<p>This loads all of the data into memory. For delayed (“lazy”), chunked
access to the data, see <a class="reference internal" href="#databroker.core.BlueskyEventStream.to_dask" title="databroker.core.BlueskyEventStream.to_dask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_dask()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyEventStream.read_partition">
<span class="sig-name descname"><span class="pre">read_partition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partition</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyEventStream.read_partition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyEventStream.read_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch one chunk of documents.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker.core.BlueskyEventStream.to_dask">
<span class="sig-name descname"><span class="pre">to_dask</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#BlueskyEventStream.to_dask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.BlueskyEventStream.to_dask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data from this Event Stream as an xarray.Dataset backed by dask.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="databroker.core.discover_handlers">
<span class="sig-prename descclassname"><span class="pre">databroker.core.</span></span><span class="sig-name descname"><span class="pre">discover_handlers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entrypoint_group_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'databroker.handlers'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_failures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#discover_handlers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.discover_handlers" title="Permalink to this definition">¶</a></dt>
<dd><p>Discover handlers via entrypoints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>entrypoint_group_name: str</strong></dt><dd><p>Default is ‘databroker.handlers’, the “official” databroker entrypoint
for handlers.</p>
</dd>
<dt><strong>skip_failures: boolean</strong></dt><dd><p>True by default. Errors loading a handler class are converted to
warnings if this is True.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>handler_registry: dict</dt><dd><p>A suitable default handler registry</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="databroker.core.parse_handler_registry">
<span class="sig-prename descclassname"><span class="pre">databroker.core.</span></span><span class="sig-name descname"><span class="pre">parse_handler_registry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler_registry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#parse_handler_registry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.parse_handler_registry" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse mapping of spec name to ‘import path’ into mapping to class itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>handler_registry</strong><span class="classifier">dict</span></dt><dd><p>Values may be string ‘import paths’ to classes or actual classes.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Pass in name; get back actual class.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_handler_registry</span><span class="p">({</span><span class="s1">&#39;my_spec&#39;</span><span class="p">:</span> <span class="s1">&#39;package.module.ClassName&#39;</span><span class="p">})</span>
<span class="go">{&#39;my_spec&#39;: &lt;package.module.ClassName&gt;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="databroker.core.parse_transforms">
<span class="sig-prename descclassname"><span class="pre">databroker.core.</span></span><span class="sig-name descname"><span class="pre">parse_transforms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transforms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/core.html#parse_transforms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.core.parse_transforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse mapping of spec name to ‘import path’ into mapping to class itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>transforms</strong><span class="classifier">collections.abc.Mapping or None</span></dt><dd><p>A collections.abc.Mapping or subclass, that maps any subset of the
keys {start, stop, resource, descriptor} to a function (or a string
import path) that accepts a document of the corresponding type and
returns it, potentially modified. This feature is for patching up
erroneous metadata. It is intended for quick, temporary fixes that
may later be applied permanently to the data at rest (e.g via a
database migration).</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Pass in name; get back actual class.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_transforms</span><span class="p">({</span><span class="s1">&#39;descriptor&#39;</span><span class="p">:</span> <span class="s1">&#39;package.module.function_name&#39;</span><span class="p">})</span>
<span class="go">{&#39;descriptor&#39;: &lt;package.module.function_name&gt;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="databroker.v2.Broker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databroker.v2.</span></span><span class="sig-name descname"><span class="pre">Broker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/v2.html#Broker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.v2.Broker" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a thin wrapper around intake.Catalog.</p>
<p>It includes an accessor the databroker API version 1.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>handler_registry: dict, optional</strong></dt><dd><p>This is passed to the Filler or whatever class is given in the
filler_class parameter below.</p>
<p>Maps each ‘spec’ (a string identifying a given type or external
resource) to a handler class.</p>
<p>A ‘handler class’ may be any callable with the signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">handler_class</span><span class="p">(</span><span class="n">resource_path</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="o">**</span><span class="n">resource_kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>It is expected to return an object, a ‘handler instance’, which is also
callable and has the following signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">handler_instance</span><span class="p">(</span><span class="o">**</span><span class="n">datum_kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>As the names ‘handler class’ and ‘handler instance’ suggest, this is
typically implemented using a class that implements <code class="docutils literal notranslate"><span class="pre">__init__</span></code> and
<code class="docutils literal notranslate"><span class="pre">__call__</span></code>, with the respective signatures. But in general it may be
any callable-that-returns-a-callable.</p>
</dd>
<dt><strong>root_map: dict, optional</strong></dt><dd><p>This is passed to Filler or whatever class is given in the filler_class
parameter below.</p>
<p>str -&gt; str mapping to account for temporarily moved/copied/remounted
files.  Any resources which have a <code class="docutils literal notranslate"><span class="pre">root</span></code> in <code class="docutils literal notranslate"><span class="pre">root_map</span></code> will be
loaded using the mapped <code class="docutils literal notranslate"><span class="pre">root</span></code>.</p>
</dd>
<dt><strong>filler_class: type</strong></dt><dd><p>This is Filler by default. It can be a Filler subclass,
<code class="docutils literal notranslate"><span class="pre">functools.partial(Filler,</span> <span class="pre">...)</span></code>, or any class that provides the same
methods as <code class="docutils literal notranslate"><span class="pre">DocumentRouter</span></code>.</p>
</dd>
<dt><strong>transforms: dict</strong></dt><dd><p>A dict that maps any subset of the keys {start, stop, resource, descriptor}
to a function that accepts a document of the corresponding type and
returns it, potentially modified. This feature is for patching up
erroneous metadata. It is intended for quick, temporary fixes that
may later be applied permanently to the data at rest
(e.g., via a database migration).</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Additional keyword arguments are passed through to the base class,
Catalog.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="databroker.v2.Broker.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/v2.html#Broker.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.v2.Broker.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an iterator over (key, source) tuples for the catalog entries.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="databroker.v2.Broker.v1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">v1</span></span><a class="headerlink" href="#databroker.v2.Broker.v1" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessor to the version 1 API.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="databroker.v2.Broker.v2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">v2</span></span><a class="headerlink" href="#databroker.v2.Broker.v2" title="Permalink to this definition">¶</a></dt>
<dd><p>A self-reference. This makes v1.Broker and v2.Broker symmetric.</p>
</dd></dl>

</dd></dl>

</section>
<section id="utils">
<h2>Utils<a class="headerlink" href="#utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="databroker.utils.catalog_search_path">
<span class="sig-prename descclassname"><span class="pre">databroker.utils.</span></span><span class="sig-name descname"><span class="pre">catalog_search_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/utils.html#catalog_search_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.utils.catalog_search_path" title="Permalink to this definition">¶</a></dt>
<dd><p>List directories that will be searched for catalog YAML files.</p>
<p>This is a convenience wrapper around functions used by intake to determine
its search path.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>directories: tuple</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="databroker.v2.temp">
<span class="sig-prename descclassname"><span class="pre">databroker.v2.</span></span><span class="sig-name descname"><span class="pre">temp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/v2.html#temp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.v2.temp" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a Catalog backed by a temporary directory of msgpack-encoded files.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="databroker.v1.temp">
<span class="sig-prename descclassname"><span class="pre">databroker.v1.</span></span><span class="sig-name descname"><span class="pre">temp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/v1.html#temp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker.v1.temp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="backend-specific-catalogs">
<h2>Backend-Specific Catalogs<a class="headerlink" href="#backend-specific-catalogs" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These drivers are currently being developed in databroker itself, but
will eventually be split out into separate repositories to isolate
dependencies and release cycles. This will be done once the internal
interfaces are stable.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="databroker._drivers.jsonl.BlueskyJSONLCatalog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databroker._drivers.jsonl.</span></span><span class="sig-name descname"><span class="pre">BlueskyJSONLCatalog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/_drivers/jsonl.html#BlueskyJSONLCatalog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker._drivers.jsonl.BlueskyJSONLCatalog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="databroker._drivers.jsonl.BlueskyJSONLCatalog.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/_drivers/jsonl.html#BlueskyJSONLCatalog.search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker._drivers.jsonl.BlueskyJSONLCatalog.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Catalog with a subset of the entries in this Catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>query</strong><span class="classifier">dict</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="databroker._drivers.mongo_embedded.BlueskyMongoCatalog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databroker._drivers.mongo_embedded.</span></span><span class="sig-name descname"><span class="pre">BlueskyMongoCatalog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/_drivers/mongo_embedded.html#BlueskyMongoCatalog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker._drivers.mongo_embedded.BlueskyMongoCatalog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="databroker._drivers.mongo_embedded.BlueskyMongoCatalog.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/_drivers/mongo_embedded.html#BlueskyMongoCatalog.search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker._drivers.mongo_embedded.BlueskyMongoCatalog.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Catalog with a subset of the entries in this Catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>query</strong><span class="classifier">dict</span></dt><dd><p>MongoDB query.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="databroker._drivers.mongo_normalized.BlueskyMongoCatalog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databroker._drivers.mongo_normalized.</span></span><span class="sig-name descname"><span class="pre">BlueskyMongoCatalog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/_drivers/mongo_normalized.html#BlueskyMongoCatalog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker._drivers.mongo_normalized.BlueskyMongoCatalog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="databroker._drivers.mongo_normalized.BlueskyMongoCatalog.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/_drivers/mongo_normalized.html#BlueskyMongoCatalog.search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker._drivers.mongo_normalized.BlueskyMongoCatalog.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Catalog with a subset of the entries in this Catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>query</strong><span class="classifier">dict</span></dt><dd><p>MongoDB query.</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Options passed through to the pymongo <code class="docutils literal notranslate"><span class="pre">find()</span></code> method</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="databroker._drivers.mongo_normalized.BlueskyMongoCatalog.stats">
<span class="sig-name descname"><span class="pre">stats</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/_drivers/mongo_normalized.html#BlueskyMongoCatalog.stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker._drivers.mongo_normalized.BlueskyMongoCatalog.stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Access MongoDB storage statistics for this database.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="databroker._drivers.msgpack.BlueskyMsgpackCatalog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">databroker._drivers.msgpack.</span></span><span class="sig-name descname"><span class="pre">BlueskyMsgpackCatalog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/_drivers/msgpack.html#BlueskyMsgpackCatalog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker._drivers.msgpack.BlueskyMsgpackCatalog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="databroker._drivers.msgpack.BlueskyMsgpackCatalog.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/databroker/_drivers/msgpack.html#BlueskyMsgpackCatalog.search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#databroker._drivers.msgpack.BlueskyMsgpackCatalog.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Catalog with a subset of the entries in this Catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>query</strong><span class="classifier">dict</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../explanations/relationship-to-intake.html" class="btn btn-neutral float-left" title="What is Databroker’s relationship to Intake?" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="v1.html" class="btn btn-neutral float-right" title="Original (v1 / v0) API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015 Brookhaven National Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>